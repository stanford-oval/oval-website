{"version":3,"file":"effect-carousel.min.js","names":["swiper","on","extendParams","carouselEffect","opacityStep","scaleStep","sideSlides","params","effect","classNames","push","containerModifierClass","overwriteParams","watchSlidesProgress","centeredSlides","Object","assign","originalParams","Math","max","min","modifyMultiplier","translateModifier","zIndexMax","slides","length","i","slideEl","slideProgress","progress","absProgress","abs","modify","opacityEls","querySelectorAll","translate","rtlTranslate","scale","zIndex","round","style","transform","opacity","forEach","opacityEl","s","duration","transitionDuration"],"sources":["../demo-vite/effect-carousel.esm.js"],"sourcesContent":["export default function CarouselSlider({ swiper, on, extendParams }) {\n  extendParams({\n    carouselEffect: {\n      opacityStep: 0.33,\n      scaleStep: 0.2,\n      sideSlides: 2,\n    },\n  });\n  on('beforeInit', () => {\n    if (swiper.params.effect !== 'carousel') return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}carousel`);\n    const overwriteParams = {\n      watchSlidesProgress: true,\n      centeredSlides: true,\n    };\n\n    Object.assign(swiper.params, overwriteParams);\n    Object.assign(swiper.originalParams, overwriteParams);\n  });\n  on('progress', () => {\n    if (swiper.params.effect !== 'carousel') return;\n    const { scaleStep, opacityStep } = swiper.params.carouselEffect;\n    const sideSlides = Math.max(\n      Math.min(swiper.params.carouselEffect.sideSlides, 3),\n      1,\n    );\n    const modifyMultiplier = {\n      1: 2,\n      2: 1,\n      3: 0.2,\n    }[sideSlides];\n    const translateModifier = {\n      1: 50,\n      2: 50,\n      3: 67,\n    }[sideSlides];\n\n    const zIndexMax = swiper.slides.length;\n\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      const slideEl = swiper.slides[i];\n      const slideProgress = swiper.slides[i].progress;\n      const absProgress = Math.abs(slideProgress);\n      let modify = 1;\n\n      if (absProgress > 1) {\n        modify = (absProgress - 1) * 0.3 * modifyMultiplier + 1;\n      }\n      const opacityEls = slideEl.querySelectorAll(\n        '.swiper-carousel-animate-opacity',\n      );\n      const translate = `${\n        slideProgress *\n        modify *\n        translateModifier *\n        (swiper.rtlTranslate ? -1 : 1)\n      }%`;\n\n      const scale = 1 - absProgress * scaleStep;\n      const zIndex = zIndexMax - Math.abs(Math.round(slideProgress));\n      slideEl.style.transform = `translateX(${translate}) scale(${scale})`;\n      slideEl.style.zIndex = zIndex;\n      if (absProgress > sideSlides + 1) {\n        slideEl.style.opacity = 0;\n      } else {\n        slideEl.style.opacity = 1;\n      }\n\n      opacityEls.forEach((opacityEl) => {\n        opacityEl.style.opacity = 1 - absProgress * opacityStep;\n      });\n    }\n  });\n\n  on('setTransition', (s, duration) => {\n    if (swiper.params.effect !== 'carousel') return;\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      const slideEl = swiper.slides[i];\n      const opacityEls = slideEl.querySelectorAll(\n        '.swiper-carousel-animate-opacity',\n      );\n      slideEl.style.transitionDuration = `${duration}ms`;\n      opacityEls.forEach((opacityEl) => {\n        opacityEl.style.transitionDuration = `${duration}ms`;\n      });\n    }\n  });\n}\n"],"mappings":";;;;;;;;;;;;;;sPAAe,UAAwBA,OAAEA,EAAMC,GAAEA,EAAEC,aAAEA,IACnDA,EAAa,CACXC,eAAgB,CACdC,YAAa,IACbC,UAAW,GACXC,WAAY,KAGhBL,EAAG,cAAc,KACf,GAA6B,aAAzBD,EAAOO,OAAOC,OAAuB,OACzCR,EAAOS,WAAWC,KAAK,GAAGV,EAAOO,OAAOI,kCACxC,MAAMC,EAAkB,CACtBC,qBAAqB,EACrBC,gBAAgB,GAGlBC,OAAOC,OAAOhB,EAAOO,OAAQK,GAC7BG,OAAOC,OAAOhB,EAAOiB,eAAgBL,EAAgB,IAEvDX,EAAG,YAAY,KACb,GAA6B,aAAzBD,EAAOO,OAAOC,OAAuB,OACzC,MAAMH,UAAEA,EAASD,YAAEA,GAAgBJ,EAAOO,OAAOJ,eAC3CG,EAAaY,KAAKC,IACtBD,KAAKE,IAAIpB,EAAOO,OAAOJ,eAAeG,WAAY,GAClD,GAEIe,EAAmB,CACvB,EAAG,EACH,EAAG,EACH,EAAG,IACHf,GACIgB,EAAoB,CACxB,EAAG,GACH,EAAG,GACH,EAAG,IACHhB,GAEIiB,EAAYvB,EAAOwB,OAAOC,OAEhC,IAAK,IAAIC,EAAI,EAAGA,EAAI1B,EAAOwB,OAAOC,OAAQC,GAAK,EAAG,CAChD,MAAMC,EAAU3B,EAAOwB,OAAOE,GACxBE,EAAgB5B,EAAOwB,OAAOE,GAAGG,SACjCC,EAAcZ,KAAKa,IAAIH,GAC7B,IAAII,EAAS,EAETF,EAAc,IAChBE,EAA6B,IAAnBF,EAAc,GAAWT,EAAmB,GAExD,MAAMY,EAAaN,EAAQO,iBACzB,oCAEIC,EACJP,EACAI,EACAV,GACCtB,EAAOoC,cAAgB,EAAI,GAJZ,IAOZC,EAAQ,EAAIP,EAAczB,EAC1BiC,EAASf,EAAYL,KAAKa,IAAIb,KAAKqB,MAAMX,IAC/CD,EAAQa,MAAMC,UAAY,cAAcN,YAAoBE,KAC5DV,EAAQa,MAAMF,OAASA,EAErBX,EAAQa,MAAME,QADZZ,EAAcxB,EAAa,EACL,EAEA,EAG1B2B,EAAWU,SAASC,IAClBA,EAAUJ,MAAME,QAAU,EAAIZ,EAAc1B,CAAW,GAE/D,KAGEH,EAAG,iBAAiB,CAAC4C,EAAGC,KACtB,GAA6B,aAAzB9C,EAAOO,OAAOC,OAClB,IAAK,IAAIkB,EAAI,EAAGA,EAAI1B,EAAOwB,OAAOC,OAAQC,GAAK,EAAG,CAChD,MAAMC,EAAU3B,EAAOwB,OAAOE,GACxBO,EAAaN,EAAQO,iBACzB,oCAEFP,EAAQa,MAAMO,mBAAqB,GAAGD,MACtCb,EAAWU,SAASC,IAClBA,EAAUJ,MAAMO,mBAAqB,GAAGD,KAAY,GAE5D,IAEA,C"}